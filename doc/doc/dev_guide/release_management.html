

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Release management &mdash; Tarantool Dev Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Guidelines" href="guidelines_index.html" />
    <link rel="prev" title="Building from source" href="building_from_source.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Tarantool Dev Docs
          

          
            
            <img src="../../../_static/logo_white_text.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributor’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="reference_capi/index.html">C API reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="internals_index.html">Internals</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="build_contribute_index.html">Build and contribute</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="building_from_source.html">Building from source</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Release management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#release-policy">Release policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#release-list">Release list</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-make-a-minor-release">How to make a minor release</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="guidelines_index.html">Guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../internals/source/index.html">Tarantool internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../internals/source/index.html#indices-and-tables">Indices and tables</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Tarantool Dev Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Contributor’s Guide</a> &raquo;</li>
        
          <li><a href="build_contribute_index.html">Build and contribute</a> &raquo;</li>
        
      <li>Release management</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/doc/doc/dev_guide/release_management.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-management">
<span id="release"></span><h1>Release management<a class="headerlink" href="#release-management" title="Permalink to this headline">¶</a></h1>
<div class="section" id="release-policy">
<span id="id1"></span><h2>Release policy<a class="headerlink" href="#release-policy" title="Permalink to this headline">¶</a></h2>
<p>A Tarantool release is identified by three digits, for example, 1.10.7:</p>
<ul class="simple">
<li>The first digit stands for a MAJOR release series that introduces
some <em>major changes</em>. Up to now, there has been only one major release jump
when we delivered the 2.x release series with the SQL support.</li>
<li>The second digit stands for a MINOR release series that is used for
introducing new <em>features</em>. <a class="reference internal" href="#backward-incompatible"><span class="std std-ref">Backward incompatible changes</span></a>
are possible between these release series.</li>
<li>The third digit is for PATCH releases by which we reflect how stable
the MINOR release series is:<ul>
<li><code class="docutils literal notranslate"><span class="pre">0</span></code> meaning <strong>alpha</strong></li>
<li><code class="docutils literal notranslate"><span class="pre">1</span></code> meaning <strong>beta</strong></li>
<li><code class="docutils literal notranslate"><span class="pre">2</span></code> and above meaning <strong>stable</strong>.</li>
</ul>
</li>
</ul>
<p>So, each MINOR release series goes through a development-maturity life cycle
as follows:</p>
<ol class="arabic">
<li><p class="first"><strong>Alpha</strong>. Once a quarter, we start off with a new alpha version,
such as 2.3.0, 2.4.0, and so on. This is not what an alpha release usually
means in the typical software release life cycle but rather the current trunk
version which is under heavy development and can be unstable.
The current alpha version always lives in the master branch.</p>
</li>
<li><p class="first"><strong>Beta</strong>. When all the features planned are implemented, we fork a new branch
from the master branch and tag it as a new beta version.
It contains <code class="docutils literal notranslate"><span class="pre">1</span></code> for the PATCH digit, e.g., 2.3.1, 2.4.1, and so on.
This version cannot be called stable yet (feature freeze has just been done)
although there’re no known critical regressions in it since
the last stable release.</p>
</li>
<li><p class="first"><strong>Stable</strong>. Finally, after we see our beta version runs successfully in
a production or development environment during another quarter while we fix
incoming bugs, we declare this version stable. It is tagged with <code class="docutils literal notranslate"><span class="pre">2</span></code> for
the PATCH digit, e.g., 2.3.2, 2.4.2, and so on.</p>
<p>We support such version for 3 months while making another stable release
by fixing all bugs found. We release it in a quarter. This last tag
contains <code class="docutils literal notranslate"><span class="pre">3</span></code> for the PATCH digit, e.g., 2.3.3, 2.4.3, and so on.
After the tag is set, no new changes are allowed to the release branch,
and it is declared deprecated and superseded by a newer MINOR version.</p>
<p>Stable versions don’t receive any new features and only get backward
compatible fixes.</p>
</li>
</ol>
<p>Like Ubuntu, in terms of support, we distinguish between two kinds of stable
release series:</p>
<ul class="simple">
<li><strong>LTS (Long Term Support)</strong> is a release series that is supported
for 3 years (community) and up to 5 years (paying customers).
Current LTS release series is 1.10, and it receives only PATCH level
releases.</li>
<li><strong>Standard</strong> is a release series that is supported only for a few months
until the next release series enters the stable state.</li>
</ul>
<p>Below is a diagram that illustrates the release sequence issuing described above
by an example of some latest releases and release series:</p>
<div class="highlight-text notranslate" id="release-diagram"><div class="highlight"><pre><span></span>1.10 series -- 1.10.4 -- 1.10.5 -- 1.10.6 -- 1.10.7
(LTS)

....

2.2 series --- 2.2.1 --- 2.2.2 --- 2.2.3 (end of support)
                 |
                 V
2.3 series ... 2.3.0 --- 2.3.1 --- 2.3.2 --- 2.3.3 (end of support)
                           |
                           V
2.4 series ............. 2.4.0 --- 2.4.1 --- 2.4.2
                                     |
                                     V
2.5 series ....................... 2.5.0 --- 2.5.1
                                               |
                                               V
2.6 series ................................. 2.6.0

-----------------|---------|---------|---------|------&gt; (time)
                   1/4 yr.   1/4 yr.   1/4 yr.
</pre></div>
</div>
<p><em>Support</em> means that we continue fixing bugs. We add bug fixes simultaneously
into the following release series: LTS, last stable, beta, and alpha.
If we look at the release diagram above, it means that the bug fixes are to be
added into 1.10, 2.4, 2.5, and 2.6 release series.</p>
<p>To sum it up, once a quarter we release (see the release diagram above for
reference):</p>
<ul class="simple">
<li>next LTS release, e.g., 1.10.7</li>
<li>two stable releases, e.g., 2.3.3 and 2.4.2</li>
<li>beta version of the next release series, e.g., 2.5.1.</li>
</ul>
<p>In all supported releases, when we find and fix an outstanding CVE/vulnerability,
we deliver a patch for that but do not tag a new PATCH level version.
Users will be informed about such critical patches via the official Tarantool news
channel (<a class="reference external" href="https://t.me/tarantool_news">tarantool_news</a>).</p>
<p>We also publish nightly builds, and use the fourth slot in the version
identifier to designate the nightly build number.</p>
<div class="admonition note" id="backward-incompatible">
<p class="first admonition-title">Note</p>
<p>A release series may introduce backward incompatible changes in a sense that
existing Lua, SQL or C code that are run on a current release series
may not be run with the same effect on a future series.
However, we don’t exploit this rule and don’t make incompatible changes
without appropriate reason. We usually deliver information how mature
a functionality is via release notes.</p>
<p class="last">Please note that binary data layout
is always compatible with the previous series as well as with the LTS series
(an instance of <code class="docutils literal notranslate"><span class="pre">X.Y</span></code> version can be started on top of <code class="docutils literal notranslate"><span class="pre">X.(Y+1)</span></code>
or <code class="docutils literal notranslate"><span class="pre">1.10.z</span></code> data); binary protocol is compatible too
(client-server as well as replication protocol).</p>
</div>
</div>
<div class="section" id="release-list">
<span id="id2"></span><h2>Release list<a class="headerlink" href="#release-list" title="Permalink to this headline">¶</a></h2>
<p>Below is the table containing all Tarantool releases starting from 1.10.0 up to
the current latest versions (as of September 1, 2020). For each release series,
releases are sorted out as alpha, beta, and stable ones.</p>
<div class="table docutils container">
<table border="1" class="left-align-column-1 left-align-column-2 left-align-column-3 left-align-column-4 docutils">
<colgroup>
<col width="27%" />
<col width="24%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Release
series</th>
<th class="head">Alpha</th>
<th class="head">Beta</th>
<th class="head">Stable</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1.10
(LTS)</td>
<td>1.10.0</td>
<td>1.10.1</td>
<td>1.10.2
1.10.3
1.10.4
1.10.5
1.10.6
1.10.7</td>
</tr>
<tr class="row-odd"><td>2.1</td>
<td>2.1.0</td>
<td>2.1.1</td>
<td>2.1.2
2.1.3</td>
</tr>
<tr class="row-even"><td>2.2</td>
<td>2.2.0</td>
<td>2.2.1</td>
<td>2.2.2
2.2.3</td>
</tr>
<tr class="row-odd"><td>2.3</td>
<td>2.3.0</td>
<td>2.3.1</td>
<td>2.3.2
2.3.3</td>
</tr>
<tr class="row-even"><td>2.4</td>
<td>2.4.0</td>
<td>2.4.1</td>
<td>2.4.2</td>
</tr>
<tr class="row-odd"><td>2.5</td>
<td>2.5.0</td>
<td>2.5.1</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>2.6</td>
<td>2.6.0</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="how-to-make-a-minor-release">
<span id="release-minor"></span><h2>How to make a minor release<a class="headerlink" href="#how-to-make-a-minor-release" title="Permalink to this headline">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git tag -a <span class="m">2</span>.4 -m <span class="s2">&quot;Next minor in 2.x series&quot;</span>
<span class="gp">$</span> vim CMakeLists.txt <span class="c1"># edit CPACK_PACKAGE_VERSION_PATCH</span>
<span class="gp">$</span> git push --tags
</pre></div>
</div>
<p>A tag which is made on a git branch can be taken along with a merge, or left
on the branch. The technique to “keep the tag on the branch it was
originally set on” is to use <code class="docutils literal notranslate"><span class="pre">--no-fast-forward</span></code> when merging this branch.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">--no-ff</span></code>, a merge changeset is created to represent the received
changes, and only that merge changeset ends up in the destination branch.
This technique can be useful when there are two active lines of development,
e.g. “stable” and “next”, and it’s necessary to be able to tag both
lines independently.</p>
<p>To make sure that a tag doesn’t end up in the destination branch, it is
necessary to have the commit to which the tag is attached, “stay on the
original branch”. That’s exactly what a merge with disabled “fast-forward”
does – creates a “merge” commit and adds it to both branches.</p>
<p>Here’s what it may look like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">kostja@shmita:~/work/tarantool$</span> git checkout master
<span class="go">Already on &#39;master&#39;</span>
<span class="gp">kostja@shmita:~/work/tarantool$</span> git tag -a <span class="m">2</span>.4 -m <span class="s2">&quot;Next development&quot;</span>
<span class="gp">kostja@shmita:~/work/tarantool$</span> git describe
<span class="go">2.4</span>
<span class="gp">kostja@shmita:~/work/tarantool$</span> git checkout master-stable
<span class="go">Switched to branch &#39;master-stable&#39;</span>
<span class="gp">kostja@shmita:~/work/tarantool$</span> git tag -a <span class="m">2</span>.3 -m <span class="s2">&quot;Next stable&quot;</span>
<span class="gp">kostja@shmita:~/work/tarantool$</span> git describe
<span class="go">2.3</span>
<span class="gp">kostja@shmita:~/work/tarantool$</span> git checkout master
<span class="go">Switched to branch &#39;master&#39;</span>
<span class="gp">kostja@shmita:~/work/tarantool$</span> git describe
<span class="go">2.4</span>
<span class="gp">kostja@shmita:~/work/tarantool$</span> git merge --no-ff master-stable
<span class="go">Auto-merging CMakeLists.txt</span>
<span class="go">Merge made by recursive.</span>
<span class="go"> CMakeLists.txt |    1 +</span>
<span class="go"> 1 files changed, 1 insertions(+), 0 deletions(-)</span>
<span class="gp">kostja@shmita:~/work/tarantool$</span> git describe
<span class="go">2.4.0-0-g0a98576</span>
</pre></div>
</div>
<p>Also, don’t forget this:</p>
<ol class="arabic">
<li><p class="first">Update all issues. Upload the ChangeLog based on <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> output.</p>
<p>The ChangeLog must only include items which are mentioned as issues
on GitHub. If anything significant is there, which is not mentioned,
something went wrong in release planning and the release should be
held up until this is cleared.</p>
</li>
<li><p class="first">Click ‘Release milestone’. Create a milestone for the next minor release.
Alert the driver to target bugs and blueprints to the new milestone.</p>
</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="guidelines_index.html" class="btn btn-neutral float-right" title="Guidelines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="building_from_source.html" class="btn btn-neutral float-left" title="Building from source" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Tarantool Core Team

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>